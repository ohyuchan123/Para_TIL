# 🌱 Content

```lua
EC2 인스턴스란?
2. AMI란?
3. 보안그룹이란?
4. EC2 Instance 실습
  - 4일차와 같이 VPC, 서브넷, igw, nat, rtb를 세팅해주세요
  - EC2를 t2.micro 용량으로 생성하시고 AMI는 amazon linux, ubuntu 중 편한걸 선택해주세요.
  - 보안그룹은 '최소한'의 권한만 오픈해주세요
  - 간단한 실습이기 떄문에 인스턴스는 퍼블릭 서브넷에 위치시켜주시고 퍼블릭 IP 할당을 활성화 시켜주세요.
  - key는 본인 이름으로 새로 생성해주시면 되겠습니다.
  - 띄워야하는 애플리케이션은 본인이 원하시는걸 띄우시면 되겠습니다. (html 같은것도 가능해요!)
  - 올라와야하는 캡처본 : EC2 생성을 설명하는 캡처본과 글, EC2의 퍼블릭 IP를 인터넷에 검색하여 뜨는 창
5. 실습처럼 EC2를 퍼블릭으로 올리게되면 어떤 문제가 생겨날까요? 자신의 생각을 자유롭게 정리해주시고, 여러분들이 생각한 문제를 해결하기 위해 어떤 조치를 어떻게 취해야하는지 적어주세요. (1~4일차 과제중에 힌트가 있습니다!)
```

## 🤔 EC2(Elastic Compute Cloud)란?

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image18.png)

> EC2란 AWS에서 제공하는 클라우드 컴퓨팅 서비스로, 아마존이 사용자들에게 독립된 컴퓨터를 임대해주는 서비스라고 볼 수 있습니다.

- EC2를 사용해 **가상 서버를 구축** 하고, **보안 및 네트워킹을 구성** 보다 **빠르게** 애플리케이션을 **개발하고 배포**할 수 있습니다.

- **인스턴스 유형, 운영체제, 소프트웨어 패키지** 등을 선택할 수 있으며, **메모리, CPU, 스토리지, 부팅 파티션 크기** 등을 선택할 수 있는 유연한 클라우드 호스팅 서비스입니다.

## 📄 EC2의 특징

1. **확장성과 유연성** : EC2는 사용자의 요구에 따라 가상 서버를 빠르게 프로비저닝하고 시작할 수 있는 기능을 제공합니다. 필요에 따라 컴퓨팅 리소스를 증가 또는 감소시킬 수 있어서 비즈니스 요구 사항에 유연하게 대응할 수 있습니다.
2. **다양한 인스턴스 유형** : EC2는 다양한 인스턴스 유형을 제공하여 다양한 컴퓨팅 요구에 맞춰 최적화된 성능을 제공합니다.
3. **지역 및 가용 영역** : AWS의 EC2는 여러 지역과 가용 영역에서 서비스를 제공합니다. 이것은 사용자가 지리적으로 가까운 위치에 인프라를 배치하고 여러 가용 영역을 통해 안전성과 내결함성을 확보할 수 있다는 것을 의미합니다.
4. **관리 및 모니터링 기능** : AWS는 EC2 인스턴스의 상태를 관리하고 모니터링할 수 있는 다양한 도구와 서비스를 제공합니다. 이를 통해 인스턴스의 상태, 사용률, 비용 등을 모니터링하고 관리할 수 있습니다.
5. **보안 기능** : AWS는 다양한 보안 기능을 제공하여 데이터 및 인프라를 보호합니다. 네트워크 보안, 데이터 암호화, 액세스 제어 등의 기능을 제공하여 보안을 강화할 수 있습니다.

[<a href="https://velog.io/@kyj311/AWS-EC2-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0">출처</a>]

## 🤔 AMI란?

Amazon Machine Image(AMI)는 인스턴스를 시작하는 데 필요한 정보를 제공하는 AWS에서 지원되고 유지 관리되는 이미지입니다.  
인스턴스를 시작할 때 AMI를 지정해야 합니다. 동일한 구성의 인스턴스가 여러 개 필요할 때는 한 AMI에서 여러 인스턴스를 시작할 수 있습니다.  
서로 다른 구성의 인스턴스가 필요할 때는 다양한 AMI를 사용하여 인스턴스를 시작할 수 있습니다.

**AMI는 다음을 포함합니다.**

- 1개 이상의 Amazon Elastic Block Stroe(Amazon EBS) 스냅샷 또는, 인스턴스 스토어 기반 AMI의 경우,  
  인스턴스 루트 볼륨에 대한 템플릿(예 : 운영 체제, 애플리케이션 서버, 애플리케이션)
- AMI를 사용하여 인스턴스를 시작할 수 있는 AWS 계정을 제어하는 시작 권한
- 시작될 때 인스턴스에 연결할 볼륨을 지정하는 블록 디바이스 매핑

[<a href="https://docs.aws.amazon.com/ko_kr/AWSEC2/latest/UserGuide/AMIs.html">출처</a>]

## 🤔 보안그룹이란?

보안 그룹은 클라우드 컴퓨팅 환경에서 네트워크 보안을 관리하기 위한 중요한 요소입니다.  
주로 클라우드 서비스 제공 업체인 AWS(Amazon Web Services), Microsoft Azure, Google Cloud Platform 등에서 제공됩니다.  
이 그룹은 가상 서버 인스턴스에 대한 네트워크 트래픽을 제어하고 관리하여 보안을 강화합니다.

기본적으로 보안 그룹은 인바운드 및 아웃바운드 트래픽을 관리하며, 각각의 규칙을 통해 어떤 유형의 트래픽을 허용하거나 차단할지 결정합니다.  
보안 그룹은 서버 인스턴스의 방화벽 역할을 수행하여 특정 포트나 프로토콜을 통한 액세스를 허용하거나 차단하여 외부에서의 불법적인 접근을 방지합니다.

보안 그룹은 리소스를 그룹화하여 유사한 보안 요구 사항을 가진 리소스들을 한데 묶어 관리할 수 있게 해줍니다. 이를 통해 유연한 네트워크 보안 관리가 가능해지며,  
필요에 따라 보안 규칙을 업데이트하거나 변경할 수 있습니다.

- EC2를 t2.micro 용량으로 생성하시고 AMI는 amazon linux, ubuntu 중 편한걸 선택해주세요.
- 보안그룹은 '최소한'의 권한만 오픈해주세요
- 간단한 실습이기 떄문에 인스턴스는 퍼블릭 서브넷에 위치시켜주시고 퍼블릭 IP 할당을 활성화 시켜주세요.
- key는 본인 이름으로 새로 생성해주시면 되겠습니다.
- 띄워야하는 애플리케이션은 본인이 원하시는걸 띄우시면 되겠습니다. (html 같은것도 가능해요!)
- 올라와야하는 캡처본 : EC2 생성을 설명하는 캡처본과 글, EC2의 퍼블릭 IP를 인터넷에 검색하여 뜨는 창

## 💻 EC2 Instance 실습

**먼저 본인의 리전을 확인합니다.** 그 전 4일차 온보딩에서도 리전에 관해서 잠깐 나왔었는데 이번 5일차를 통해서 정리하도록하겠습니다.

- **리전이란?** AWS의 서비스가 구동될 지역을 이야기합니다. AWS는 도시별로 클라우드 센터를 지어 해당 센터에서 구축된 가상머신들을 사용할 수 있는데, 이를 리전이라고 합니다.
- 서울 리전이 생기기 전까지는 국내 서비스들은 도쿄 리전을 사용하였습니다. 한국과 가장 가까운 지역이라 네트워크가 가장 빠르기 때문입니다. 하지만 현재는 서울 리전이 존재하기 때문에 **국내에서 서비스를 한다면 무조건 서울 리전을 선택해야 됩니다.**

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image19.png)

AWS에서 로그인을 한 뒤 우측 상단에 보시면 위 사진과 같이 있습니다.

### ⇲ 1. 인스턴스 시작

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image20.png)

**서비스 > EC2** 에 들어온 뒤 **인스턴스 시작** 버튼을 클릭합니다.

### ⇲ 2. AMI 선택

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image21.png)

- **고유 이미지**를 생성할 수도 있고, **MarketPlace** 에도 다양한 이미지가 존재하지만, 대부분 **유로**이기 때문에 주의해야 합니다.

> ![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image22.png)
> AWS 프리 티어로 Amazon Linux 2 AMI(HVM)를 선택한다.

[<a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instances-and-amis.html">출처</a>]  
[<a href="https://velog.io/@kyj311/AWS-EC2-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0">출처</a>]

### ⇲ 3. 인스턴스 유형 선택하기

- 각자 필요한 인스턴스 성능과 크기에 따라 **적절한 유형을 선택**해야 합니다.
- 인스턴스는 **5가지 유형** 으로 나뉘며, 각 유형별로 다양한 인스턴스 크기를 제공합니다.
  - 범용
  - 컴퓨틱 최적화
  - 메모리 최적화
  - 액셀러레이티드 컴퓨팅
  - 스토리지 최적화

> ![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image23.png)
> AWS 프리 티어로 t2.micro 인스턴스를 선택한다.

### ⇲ 4. 보안그룹 구성하기

- **보안 그룹** 은 EC2 인스턴스에 허용되는 인바운드, 아웃바운드 트래픽을 제어하는 **가상 방화벽** 이다.
- 기본 보안 그룹은 모든 트래픽을 허용하며, **상태 기반 규칙** 을 사용합니다.

> ![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image24.png)
> EC2 인스턴스는 터미널을 통해 접속해야 하기 때문에 SSH 22번 포트가 기본 값으로 설정되어 있습니다.

### ⇲ 5. 키페어 생성하기

> ![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image25.png)
> 이때 다운로드 되는 프라이빗 키 파일은 다시 받을 수 없기 때문에 **꼭!!** 안전하게 보안된 위치에 잘 저장해두어야 합니다.

## ⇲ 6. 인스턴스 시작하기

> ![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image26.png)
> 다른 세부 설정들은 기본 값으로 두고 인스턴스 시작을 선택

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image27.png)
**인스턴스가 성공적으로 생성된것을 확인할 수 있습니다.**

### ⇲ 7. 탄력적 IP 할당하기

- 인스턴스를 생성할 때는 항상 새 IP를 할당합니다.
- 인스턴스를 중지하고 재시작하면 새로운 IP가 할당되기 때문에 고정적인 IP를 가질 수 있도록 탄력적 IP 주소를 할당해 주어야 합니다.
- 이때 탄력적 IP를 만들고 ec2에 연결해주지 않으면 과금이 발생하기 때문에 주의해야 합니다.
  **만들때는 과금이 안되지만 연결을 "안"하면 과금이 되니 주의해야 합니다.**

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image28.png)
![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image29.png)

### ⇲ 8. SSH 접속하기

![Alt text](/Resource/DevOps/DevOps%20-%20Onboarding/1주차/img/image30.png)

## 🧐 EC2를 퍼블릭으로 올리게 된다면?

```lua
실습처럼 EC2를 퍼블릭으로 올리게되면 어떤 문제가 생겨날까요? 자신의 생각을 자유롭게 정리해주시고,
여러분들이 생각한 문제를 해결하기 위해 어떤 조치를 어떻게 취해야하는지 적어주세요.
```

EC2를 퍼블릭으로 올리게 되면 보안의 문제가 발생할 수 있을 것 같습니다. 잘못된 보안 그룹이나  
불필요한 포트 열림으로 인해 누구든지 나의 IP에 진입할 수 있어 악의적인 공격이 있을 수 있다고 생각합니다.

위험을 완전히 제거하는 것은 불가능하지만, 이러한 문제들을 최소화하고 관리하기 위해 아래와 같은 방법을 사용하면 될 것 같습니다.

**보안 그룹 및 네트워크 설정 강화:**

- 필요한 포트만 열고 불필요한 포트는 차단하여 보안 그룹을 설정합니다.
- 네트워크 ACL(Access Control List)을 사용하여 네트워크 수준에서 추가적인 보안을 적용합니다.
