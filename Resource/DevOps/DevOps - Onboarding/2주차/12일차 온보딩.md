# 🌱 Content

```lua
1. docker-compose 란?
    - docker-compose 의 정의와 왜 사용하는지 등에 대해서 정리해주세요.
2. docker-compose 파일 작성해보기
    - docker-compose 로 이미지 2개 이상을 띄워주세요.
    - 이미지의 종류는 상관없습니다. 자신이 만드셔도되고, 다른 사람들이 만든 이미지를 사용하셔도 좋아요.
3. 자신이 작성한 docker-compose 파일을 설명하고 docker-compose 파일이 어떤식으로 이루어져있는지 설명해주세요.
4. 자신이 작성한 docker-compose 와 관련된 명령어 실습하기
    - docker-compose 와 관련된 명령어들을 실습해주세요.
```

이번 절에서는 도커 컴포즈를 간단히 소개해보려고 합니다. 도커 컴포즈는 도커 명령어를 정의 파일에 기술해 실행하는 도구입니다.  
이 정의 파일은 Dockerfile과 비슷한데, 어떤 차이점이 있는지도 작성해보겠습니다.

## 🐳 도커 컴포즈란?

명령어를 입력하는 데 익숙해도 워드프레스처럼 여러 개의 컨테이너로 구성된 시스템을 실행하기는 조금 귀찮게 느껴집니다.  
인자나 옵션도 많을뿐더러 볼륨이나 네트워크까지 설정해야 하기 때문입니다.

나중에 시스템을 뒷정리할 때도 만들었던 컨테이너를 ps 커맨드로 일일이 확인해가며 지우려니 수고스럽다.

이렇듯 `시스템 구축과 관련된 명령어를 하나의 텍스트 파일(정의 파일)에 기재해 명령어 한번에 시스템 전체를 실행하고 종료와 페기까지 한번에` 하도록 도와주는 도구가 바로 `도커 컴포즈`입니다.

## 🤔 도커 컴포즈의 구조

도커 컴포즈는 시스템 구축에 필요한 설정을 YAML(YAML, Ain'a Markup Language) 포맷으로 기제한 정의 파일을 이용해 전체 시스템을 일괄 실행(run) 또는 일괄 종료 및 삭제(down)  
할 수도 있는 도구입니다.

`up 커맨드`는 docker run 커맨드와 비슷합니다. 정의 파일에 기재된 내용대로 이미지를 내려받고 컨테이너를 생성 및 실행한다.  
정의 파일에는 네트워크나 볼륨에 대한 정의도 기재할 수 있어서 주변 호나경을 한꺼번에 생성할 수 있다.

`down 커맨드`는 컨테이너와 네트워크를 정지 및 삭제한다. 볼륨과 이미지는 삭제하지 않는다. 컨테이너와 네트워크 삭제 없이 종료만 하고 싶다면 stop 커맨드를 사용하면 된다.

## 🤔 도커 컴포즈와 🆚 Dockerfile 스크림트의 차이점

도커 컴포즈는 텍스트 파일에 기재된 정의를 따라 실행됩니다. 이는 Dockerfile 스크립트와 비슷합니다.  
이 두가지는 비슷한 부분이 있지만 실행하는 내용에 분명이 차이가 있습니다.

도커 컴포즈는 말하자면 `docker run` 명령어를 여러 개 모아놓은 것과 같습니다. `컨테이너와 주변 환경`을 생성하며, `네트워크와 볼륨까지 함꼐 만들 수 있습니다.`  
반면 Dockerfile 스크립트는 `이미지를 만들기 위한 것`으로 `네트워크나 볼륨은 만들 수 없습니다.`

간단하게 말해서 대상이 다르다고 할 수 있습니다.

## 🧑🏻‍💻 Docker compose 생성

- <a href="https://github.com/ohyuchan123/DevOps-lab/blob/main/Docker/Docker%20Compose/Docker%20Compose%20%EC%82%AC%EC%9A%A9%EB%B2%95.md">Docker Compose 사용법</a>
